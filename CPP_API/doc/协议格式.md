# åè®®æ ¼å¼

æœ¬åè®®æ˜¯å°ç«¯æµ®ç‚¹æ•°ç»„å½¢å¼çš„å­—èŠ‚æµåè®®ï¼Œçº¯åå…­è¿›åˆ¶æµ®ç‚¹ä¼ è¾“ï¼ŒèŠ‚çœå¸¦å®½ã€‚æ­¤åè®®éå¸¸é€‚åˆç”¨åœ¨é€šé“æ•°é‡å¤šã€å‘é€é¢‘ç‡é«˜çš„æ—¶å€™ã€‚

#define CH_COUNT <N>
struct Frame {
    float ch_data[CH_COUNT];
    unsigned char tail[4]{0x00, 0x00, 0x80, 0x7f};
};
//ch_dataä¸ºå°ç«¯æµ®ç‚¹æ•°ç»„ï¼Œé‡Œé¢æ”¾ç€éœ€è¦å‘é€çš„CH_COUNTä¸ªé€šé“ã€‚
//tailä¸ºå¸§å°¾ã€‚

å†™ä¸€ä¸ªåŸºäºCPPçš„æ¥å£ï¼Œæ³¨æ„ä½ åªéœ€è¦ä¹¦å†™å°†å˜é‡è½¬åŒ–æˆè¯¥åè®®å°±è¡Œï¼Œæ— éœ€ä¸²å£å‘é€ï¼Œä½ å¯ä»¥ä»…ä»…ä½¿ç”¨printféªŒè¯ã€‚å¹¶ä¸”èƒ½å¤Ÿé€‰æ‹©é€šé“æ•°


æˆ‘å¯ä»¥ç»™ä½ ä¸€ä¸ªArduinoç¤ºä¾‹ä»£ç ä¾›ä½ å‚è€ƒï¼š
void setup() {
 Serial.begin(115200);
}

float t = 0;
void loop() {
    t += 0.1;
    // å‘é€æ•°æ®
    float ch[4];  
    ch[0] = sin(t);
    ch[1] = sin(2*t);
    ch[2] = sin(3*t);
    ch[3] = sin(4*t);
    Serial.write((char *)ch, sizeof(float) * 4); 
    // å‘é€å¸§å°¾
    char[4] tail = {0x00, 0x00, 0x80, 0x7f};
    Serial.write(tail, 4);
    delay(100);
}

æ ¹æ®ç›®å½•ç»“æ„ä¹¦å†™cmakelists
ğŸ“¦vofa_protocol
 â”£ ğŸ“‚build
 â”£ ğŸ“‚doc
 â”ƒ â”— ğŸ“œåè®®æ ¼å¼.md
 â”£ ğŸ“‚vofa_protocol
 â”ƒ â”£ ğŸ“œvofa_protocol.cpp
 â”ƒ â”— ğŸ“œvofa_protocol.hpp
 â”£ ğŸ“œCMakeLists.txt
 â”— ğŸ“œmain.cpp